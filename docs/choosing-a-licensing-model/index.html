<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="initial-scale=1"><title>Choosing a Licensing Model - Documentation</title><link rel="shortcut icon" href="data:image/x-icon;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQEAYAAABPYyMiAAAABmJLR0T///////8JWPfcAAAACXBIWXMAAABIAAAASABGyWs+AAAAF0lEQVRIx2NgGAWjYBSMglEwCkbBSAcACBAAAeaR9cIAAAAASUVORK5CYII" type="image/x-icon"><link rel="icon" href="/favicon-192x192.png" sizes="192x192"><link rel="apple-touch-icon" href="/apple-touch-icon.png" sizes="180x180"><link href="https://keygen.sh/media.jpg" rel="image_src"><meta content="Keygen - a dead-simple product and app licensing API built for developers" property="og:title"><meta content="https://keygen.sh/" property="og:url"><meta content="Keygen is a simple app and product licensing API, allowing developers to easily implement various licensing types into any online or desktop software product." property="og:description"><meta content="https://keygen.sh/media.jpg" property="og:image"><meta content="Keygen" property="og:site_name"><meta content="website" property="og:type"><link rel="stylesheet" href="/app.css"><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-86857020-1', 'auto');
ga('send', 'pageview');</script></head><body><main class="guide" id="guide"><header class="guide__header"><div class="guide__sidebar-toggle" id="sidebar-toggle"><i class="material-icons">menu</i></div><div class="guide__header__background">&nbsp;</div></header><nav class="guide__sidebar"><div class="guide__sidebar__logo"><a class="logo" href="/"><canvas class="logo__logomark" width="64" height="64"></canvas><span class="logo__logotype effect--shuffle">Keygen</span></a></div><div class="guide__sidebar__content"><div class="guide__sidebar__section"><h5>Introduction</h5><ul class="guide__sidebar__list"><li class="guide__sidebar__item"><a href="/docs/getting-started">Getting Started</a></li></ul></div><div class="guide__sidebar__section"><h5>Guides</h5><ul class="guide__sidebar__list"><li class="guide__sidebar__item guide__sidebar__item--in-view"><a href="/docs/choosing-a-licensing-model">Choosing a Licensing Model</a></li><li class="guide__sidebar__item"><a href="/docs/creating-users">Creating Users</a></li><li class="guide__sidebar__item"><a href="/docs/authenticating-users">Authenticating Users</a></li><li class="guide__sidebar__item"><a href="/docs/creating-licenses">Creating Licenses</a></li><li class="guide__sidebar__item"><a href="/docs/validating-licenses">Validating Licenses</a></li><li class="guide__sidebar__item"><a href="/docs/storing-metadata">Storing Metadata</a></li><li class="guide__sidebar__item"><a href="/docs/using-webhooks">Using Webhooks</a></li></ul></div><div class="guide__sidebar__section"><h5>Integrate</h5><ul class="guide__sidebar__list"><li class="guide__sidebar__item"><a href="/integrate/electron">Electron</a></li><li class="guide__sidebar__item"><a href="/integrate/stripe">Stripe</a></li><li class="guide__sidebar__item"><a href="/integrate/fastspring">FastSpring</a></li><li class="guide__sidebar__item"><a href="/integrate/sendowl">SendOwl</a></li><li class="guide__sidebar__item"><a href="/integrate/gumroad">Gumroad</a></li><li class="guide__sidebar__item"><a href="/integrate/moonclerk">MoonClerk</a></li></ul></div><div class="guide__sidebar__section"><h5>Documentation</h5><ul class="guide__sidebar__list"><li class="guide__sidebar__item"><a href="/docs/api">API Reference</a></li></ul></div><div class="guide__sidebar__section"><h5>Account</h5><ul class="guide__sidebar__list"><li class="guide__sidebar__item"><a href="https://app.keygen.sh">Dashboard</a></li></ul></div></div></nav><div class="guide__content__wrapper"><div class="guide__content"><h1 id="choosing-a-licensing-model">Choosing a Licensing Model</h1>
<p>When first starting out, choosing a licensing model can be a bit daunting. There are
so many choices, how do you choose which one is best for your business? A quick Google
search is likely to confuse you more than educate you, thanks to a plethora of enterprise
<em>jargon</em> and <em>buzzwords</em>. Today, we&#39;ll take an in-depth look at licensing from a <em>business
perspective</em> so that you can make an educated decision on what type of model is best
for you and your business.</p>
<h2 id="licensing-terminology">Licensing terminology</h2>
<p>Below is a non-exhaustive reference for some of the terminology used in this guide
and throughout the licensing space. Feel free to refer back to this throughout the
guide, but we&#39;ll try to keep things as straight forward as possible, regardless. If
you&#39;re a developer implementing Keygen, this list will also provide you with a good
overview of all of our resources.</p>
<ol>
<li><strong>Users</strong> are a particular resource within Keygen that represents a user of your
software, allowing them to <a href="/docs/authenticating-users">authenticate with Keygen&#39;s API</a>
and manage the licenses and machines which are associated with their user resource.</li>
<li><strong>Licenses</strong> are a particular resource within Keygen that, in their simplest form,
represent a <em>permission</em> i.e. you give the license owner <em>permission</em> to do <em><code>x</code></em>
within your software, whether <em><code>x</code></em> is to use your software as whole, or only a
particular feature your software offers.</li>
<li><strong>Policies</strong> are resources within Keygen that define how individual licenses should
behave, and what rules those licenses must follow. A license is always an <em>implementation</em>
of a policy i.e. you cannot create a license without first having a policy that
defines its behavior.</li>
<li><strong>Machines</strong> are a device or node that is associated with a license within Keygen.
When creating a machine and associating it with a license, you must specify a unique
string called a <em>fingerprint</em> which the machine is identified by.</li>
<li>A <strong>fingerprint</strong> is a unique string that identifies a particular machine. There
are many ways to create a fingerprint, but most use a combination of device-specific
components such as MAC address, HDD serial number, OS, etc., but it could also simply
be a domain name (e.g. when licensing a WordPress plugin), or even a file you store
locally on their machine containing the unique string.</li>
</ol>
<h2 id="licensing-goals">Licensing goals</h2>
<p>Before we go any further, we should take a step back and think about <em>why</em> we want to
implement licensing and what we want to accomplish through licensing. Only then can we
begin to decide what licensing model will best accomplish those goals.</p>
<ul>
<li><strong>I want to limit access of my software to only licensed users</strong> so that I can make
sure all of my users are paying customers.</li>
<li><strong>I want to offer timed licenses to each of my users</strong> so that they must renew their
license at the end of the expiry.</li>
<li><strong>I want to offer a limited trial version of my software to users</strong> so that users
can try out my software before purchasing.</li>
<li><strong>I want to limit access of my software to a single machine</strong> so that customers have
to purchase a new license for each additional machine.</li>
<li><strong>I want to limit access of my software to only <em><code>x</code></em> number of machines</strong> so that
a license cannot be used on unlimited machines.</li>
<li><strong>I want to offer a limited supply of &quot;special&quot; licenses</strong> so that I can run a
promotional campaign with my audience.</li>
<li><strong>I want to license individual features of my software to users</strong> so that I can
upsell premium features.</li>
<li><strong>I want to require periodic &quot;check-ins&quot; for licenses to remain valid</strong> so that
I can offer offline support but still require a periodic internet connection.</li>
</ul>
<h2 id="licensing-models">Licensing models</h2>
<p>You may create resources directly using Keygen&#39;s API, or you can use your <a href="https://app.keygen.sh">account
dashboard</a> to do so instead. The policies below use default
attributes where possible, so be sure to review the <a href="/docs/api#policies-object">Policy resource&#39;s default
attributes</a>.</p>
<h3 id="i-want-to-limit-access-of-my-software-to-only-licensed-users">I want to limit access of my software to only licensed users</h3>
<p>Keeping things simple. Below is a policy which implements the bare-minimum to
implement a licensing system for your software. It will be valid on an unlimited
number of machines.</p>
<pre><code class="lang-js">{
  data: {
    type: &quot;policies&quot;,
    attributes: {
      name: &quot;Pro License&quot;
    }
  }
}
</code></pre>
<p>Licenses that implement this policy will never expire and will be valid on an
unlimited number of machines. The only way for a license implementing this
policy to fail validation is for it to be suspended or revoked.</p>
<h3 id="i-want-to-offer-timed-licenses-to-each-of-my-users">I want to offer timed licenses to each of my users</h3>
<p>To offer licenses which have an expiration date, we&#39;ll need to create a policy similar
to the above one, but one which also has a value for the <code>duration</code> attribute.</p>
<pre><code class="lang-js">{
  data: {
    type: &quot;policies&quot;,
    attributes: {
      name: &quot;Pro License&quot;,
      duration: 1209600 // 2 weeks
    }
  }
}
</code></pre>
<p>The <code>duration</code> attribute is how long, in seconds, the license is valid for from the
license&#39;s creation timestamp, e.g. a license is created at epoch <code>1503520001</code>, so its
expiration will be <code>1503520001 + 1209600</code>, which is 09/06/2017 at 8:26pm UTC.</p>
<p>When a license&#39;s expiration gets close, we will fire off an <code>license.expiring-soon</code>
<a href="/docs/using-webhooks">webhook event</a> so that you can notify your customer and even
automate <a href="/docs/api#licenses-actions-renew">renewing the license</a> server-side.</p>
<h3 id="i-want-to-offer-a-limited-trial-version-of-my-software-to-unlicensed-users">I want to offer a limited trial version of my software to unlicensed users</h3>
<p>This is similar to the above implementation, but instead of only having a single
policy, we&#39;ll have 2. The first one will be our &quot;full&quot; policy, while the second
will be our &quot;trial&quot; policy.</p>
<pre><code class="lang-js">// Full license policy
{
  data: {
    type: &quot;policies&quot;,
    attributes: {
      name: &quot;Full License&quot;,
      duration: 31557600 // 1 year
    }
  }
}
// Trial license policy
{
  data: {
    type: &quot;policies&quot;,
    attributes: {
      name: &quot;Trial License&quot;,
      duration: 1209600 // 2 weeks
    }
  }
}
</code></pre>
<p>The only difference is the <code>duration</code> of each policy, i.e. the &quot;trial&quot; version will
expire in 2 weeks, while the &quot;full&quot; version will be valid for 1 year.</p>
<h3 id="i-want-to-limit-access-of-my-software-to-a-single-machine">I want to limit access of my software to a single machine</h3>
<p>To limit access to a single machine (also called <em>node-locked</em> licensing), we&#39;ll take
advantage of a few other policy attributes. Node-locked is a fancy way to say &quot;I want
a license to only be valid on a single machine&quot; i.e. you &quot;lock&quot; the license to a
particular machine resource.</p>
<pre><code class="lang-js">{
  data: {
    type: &quot;policies&quot;,
    attributes: {
      name: &quot;Node-Locked License&quot;,
      maxMachines: 1, // Licenses should only be associated with a single machine
      floating: false,
      strict: true // Invalidate licenses which do not meet machine requirements
    }
  }
}
</code></pre>
<p>In order for a license to pass validation, it <em>must</em> be associated with a single
machine—no more, no less.</p>
<h3 id="i-want-to-limit-access-of-my-software-to-only-_-x-_-number-of-machines">I want to limit access of my software to only <em><code>x</code></em> number of machines</h3>
<p>Similar to implementing &quot;node-locked&quot; licenses, we can also implement &quot;floating&quot;
licenses. Floating is a term used to describe the opposite of &quot;node-locked&quot; i.e.
a &quot;floating&quot; license is valid across multiple machines, but only up to a maximum
machine count.</p>
<pre><code class="lang-js">{
  data: {
    type: &quot;policies&quot;,
    attributes: {
      name: &quot;Floating License&quot;,
      maxMachines: 5, // Licenses can be associated to a maximum of 5 machines
      floating: true,
      strict: true // Invalidate licenses which do not meet machine requirements
    }
  }
}
</code></pre>
<p>In order for a license to pass validation, it <em>must</em> be associated with at least 1
machine, but no more than 5 machines total.</p>
<h3 id="i-want-to-offer-a-limited-supply-of-special-licenses">I want to offer a limited supply of &quot;special&quot; licenses</h3>
<p>In order to implement a &quot;limited supply&quot; of licenses, we&#39;ll need to create a <strong>pooled
policy</strong>. Before we start, let&#39;s go over a little bit of terminology:</p>
<ol>
<li>A <strong>pooled policy</strong> is a term used within Keygen to describe a policy which has a limited
amount of <em>pre-determined keys</em> available for use. Once a policy&#39;s pool is depleted, you
must add additional keys in order to continue to create new licenses.</li>
<li><strong>Keys</strong> are a special resource within Keygen that represent an unused key within a
particular pooled policy&#39;s key &quot;pool&quot;. Keys are <em>not</em> valid &quot;license keys&quot; until a license
resource is created from the pooled policy. When a license is created which implements a
pooled policy, a key is taken from the top of the pool and is used for the new license.</li>
</ol>
<p>Below is a representation of a pooled policy,</p>
<pre><code class="lang-js">{
  data: {
    type: &quot;policies&quot;,
    attributes: {
      name: &quot;Limited Edition License&quot;,
      usePool: true // Pull keys from the policy&#39;s pool when creating licenses
    }
  }
}
</code></pre>
<p>Now, if we tried to create a license which implements this policy right away, we would receive
an error saying that our policy&#39;s pool is empty. So before we can allow license creation, we
need to add <a href="/docs/api#keys-create">keys</a> to our policy&#39;s pool. Once a policy&#39;s pool is
depleted, you must add additional keys in order to continue to create new licenses.</p>
<h3 id="i-want-to-license-individual-features-of-my-software-to-users">I want to license individual features of my software to users</h3>
<p>This particular model is called &quot;feature licensing&quot;, and it&#39;s one of the models that Keygen
was originally built around. For reference, we even have <a href="/integrate/electron">an example application</a>
which implements feature licensing.</p>
<pre><code class="lang-js">// Feature &quot;X&quot;
{
  data: {
    type: &quot;policies&quot;,
    attributes: {
      name: &quot;Feature X&quot;
    }
  }
}
// Feature &quot;Y&quot;
{
  data: {
    type: &quot;policies&quot;,
    attributes: {
      name: &quot;Feature Y&quot;
    }
  }
}
// Feature &quot;Z&quot;
{
  data: {
    type: &quot;policies&quot;,
    attributes: {
      name: &quot;Feature Z&quot;
    }
  }
}
</code></pre>
<p>You can then store each policy&#39;s ID within your product to determine if the current
user is allowed to use each particular feature of your product. You can find a policy&#39;s
ID by viewing the policy from your account dashboard.</p>
<p>For example,</p>
<pre><code class="lang-js">// Policies representing our product&#39;s features. You can get this information
// from your dashboard: https://app.keygen.sh/policies
const KEYGEN_FEATURE_X = &quot;aac4905c-84d0-41a3-af6e-1026e28c04d3&quot;
const KEYGEN_FEATURE_Y = &quot;dd025847-42fb-49b0-b898-80c34d7734b4&quot;
const KEYGEN_FEATURE_Z = &quot;b6a5ae11-ec60-4ecd-9902-ae48a1077623&quot;
const ALLOWED_FEATURES = {
  [KEYGEN_FEATURE_X]: false,
  [KEYGEN_FEATURE_Y]: false,
  [KEYGEN_FEATURE_Z]: false
}

const licenses = /* fetch user&#39;s licenses */

for (let license of licenses) {
  const { id, relationships: { policy: { data: policy } } } = license

  switch (policy.id) {
    case KEYGEN_FEATURE_X:
    case KEYGEN_FEATURE_Y:
    case KEYGEN_FEATURE_Z:
      // Validate the current license
      const { meta: validation, errors } = await fetch(`https://api.keygen.sh/v1/accounts/{ACCOUNT}/licenses/${id}/actions/validate`, {
        headers: { &quot;Accept&quot;: &quot;application/vnd.api+json&quot;, &quot;Authorization&quot;: &quot;Bearer {TOKEN}&quot; },
      }).then(r =&gt; r.json())
      if (errors) {
        continue
      }

      ALLOWED_FEATURES[policy.id] = validation.valid

      break
    default:
      // This version of our product doesn&#39;t use this policy so it&#39;s okay to skip
      // it (we can implement new features without breaking old versions)
      break
  }
}

// … later in the product

if (ALLOWED_FEATURES[KEYGEN_FEATURE_X]) {
  // … do something
}
</code></pre>
<h3 id="i-want-to-require-periodic-check-in-for-licenses-to-remain-valid">I want to require periodic &quot;check-in&quot; for licenses to remain valid</h3>
<p>You can require licenses to periodically &quot;check-in&quot; using the <a href="/docs/api#licenses-actions-check-in">check-in action</a>.
Below is a policy which requires licenses to check in every 2 weeks in
order to remain valid. Check-in policies are great for allowing offline
usage of your product, but still requiring a periodic &quot;check-in&quot; to
validate licenses e.g. to ensure they aren&#39;t expired or suspended.</p>
<pre><code class="lang-js">{
  data: {
    type: &quot;policies&quot;,
    attributes: {
      name: &quot;Check-In License&quot;,
      requireCheckIn: true, // Require periodic check-ins
      checkInInterval: &quot;week&quot;, // Can be: &quot;day&quot;, &quot;week&quot;, &quot;month&quot; or &quot;year&quot;
      checkInIntervalCount: 2 // How many intervals e.g. every 2 &quot;weeks&quot;
    }
  }
}
</code></pre>
<p>When a license&#39;s check-in gets close, we will fire off a <code>license.check-in-required-soon</code>
<a href="/docs/using-webhooks">webhook event</a> so that you can notify your customer to
let them know that they need to connect to the internet soon and validate
their license.</p>
<hr>
<p>Don&#39;t see the licensing model you&#39;re looking for? <a href="mailto:support@keygen.sh">Reach out and let us know</a>,
and we&#39;ll get it added here plus answer any questions you have about implementation.</p>
</div></div><div class="zoom__wrapper"><div class="zoom"></div></div></main><script src="/app.js"></script><script src="https://www.googleadservices.com/pagead/conversion_async.js"></script><script src="https://s3.amazonaws.com/downloads.mailchimp.com/js/signup-forms/popup/embed.js" data-dojo-config="usePlainJson: true, isDebug: false"></script><script>window.intercomSettings = {
  app_id: "zlzql92y"
};</script><script>(function(){var w=window;var ic=w.Intercom;if(typeof ic==="function"){ic('reattach_activator');ic('update',intercomSettings);}else{var d=document;var i=function(){i.c(arguments)};i.q=[];i.c=function(args){i.q.push(args)};w.Intercom=i;function l(){var s=d.createElement('script');s.type='text/javascript';s.async=true;s.src='https://widget.intercom.io/widget/zlzql92y';var x=d.getElementsByTagName('script')[0];x.parentNode.insertBefore(s,x);}if(w.attachEvent){w.attachEvent('onload',l);}else{w.addEventListener('load',l,false);}}})()</script></body></html>